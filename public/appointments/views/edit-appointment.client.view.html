<section ng-controller="MainController">

  <!-- Navegacion -->
  <a data-ng-href="#!/">Principal</a> >
  <a data-ng-href="#!/appointments">Citas</a>
  <hr />

  <!-- Usuario sin autenticar -->
  <div data-ng-show="!authentication.user">
    <h1>Tienes que estar autenticado para crear una cita.</h1>
    <li><a href="/signin">Identificarse</a></li>
  </div>

  <!-- Usuario autenticado -->
  <div data-ng-show="authentication.user">

    <!-- La view edit appointment -->
    <section data-ng-controller="AppointmentsController" data-ng-init="findOne()">

      <!-- Formulario modificar cita -->
      <form data-ng-submit="update()" novalidate>
        <h1>Modificar cita</h1>

        <!-- Fecha -->
        <div>
          <hr align="left" size="1" width="30%" />
          <label for="date">Fecha</label>
          <div>
            <input type="date" data-ng-model="appointment.date" id="date" placeholder="date" required>
          </div>
        </div>

        <!-- Hora -->
        <div>
          <hr align="left" size="1" width="30%" />
          <label for="hour">Hora</label>
          <div>
            <input type="time" data-ng-model="appointment.hour" name="hour" id="hour" placeholder="time" required>
          </div>
        </div>

        <!-- Médico -->
        <div>
          <label for="doctor">Médico</label>
          <div>
            <div data-ng-controller="ProfilesDoctorController" data-ng-init="find()">
              <select name="doctor" id="doctor" placeholder="doctor"
               ng-options="profileDoctor.creador.fullName for profileDoctor in profilesDoctor"
               data-ng-model="doctor" required>
              </select>
              <!-- <select data-ng-model="doctor" ng-options="profileDoctor.creador.fullName for profileDoctor in profilesDoctor"></select> -->
            </div>
            <!-- <input type="text" data-ng-model="doctor" id="doctor" placeholder="Doctor" > -->
          </div>
        </div>

        <!-- Motivo de consulta -->
        <div>
          <hr align="left" size="1" width="30%" />
          <label for="chiefComplaint">Motivo de consulta</label>
          <div>
            <textarea data-ng-model="appointment.chiefComplaint" id="chiefComplaint" cols="60" rows="10" placeholder="chiefComplaint" required></textarea>
          </div>
        </div>

        <!-- Botón de envio -->
        <div>
          <hr />
          <input type="submit" value="Actualizar Cita">
        </div>

        <!-- El elemento mensaje de error -->
        <div data-ng-show="error">
          <strong data-ng-bind="error"></strong>
        </div>

      </form>
    </section>
  </div>

</section>
